[null,{"name":"Bye","temp":"mem","event-type":"7","actions":[{"info":"1","find":"powitania_i_pożegnania","storage":"1","varName":"powitania","name":"Find Channel"},{"channel":"5","varName":"powitania","message":"${tempVars(\"mem\")} opuścił nasz serwer.","storage":"0","varName2":"","name":"Send Message"}],"_id":"uWvlq"},{"name":"Welcome","temp":"member","event-type":"6","_id":"ABtNj","actions":[{"member":"2","varName":"member","info":"7","storage":"1","varName2":"tag","name":"Store Member Things"},{"member":"2","varName":"member","info":"1","storage":"1","varName2":"ID","name":"Store Member Info"},{"member":"2","varName":"member","info":"6","storage":"1","varName2":"date","name":"Store Member Things"},{"member":"2","varName":"member","info":"16","storage":"1","varName2":"avatar","name":"Store Member Info"},{"info":"1","find":"powitania_i_pożegnania","storage":"1","varName":"channel","name":"Find Channel"},{"title":"Witaj na serwerze ${member}","author":"","color":"#800080","timestamp":"false","url":"","authorIcon":"","imageUrl":"","thumbUrl":"${tempVars(\"avatar\")}","storage":"1","varName":"embed","name":"Create Embed Message"},{"storage":"1","varName":"embed","message":"Witaj na serwerze Wspólne Granie .\nAby nadać sobie rolę gry lub platformy,\nw które grasz udaj się na kanał #nadanie-roli \ni kliknij emotke odpowiadającą danej grze/platformie.\n\nNazwa użytkownika: ${tempVars(\"tag\")}\n\nID: ${tempVars(\"ID\")}\n\nData założenia konta: ${tempVars(\"date\")}","name":"Set Embed Description"},{"storage":"1","varName":"embed","channel":"5","varName2":"channel","name":"Send Embed Message"},{"info":"1","find":"Niezweryfikowany","storage":"1","varName":"role","name":"Find Role"},{"member":"2","varName2":"${tempVars(\"member\")}","role":"3","varName":"role","name":"Add Member Role"}]},{"name":"storeInvites|InviteManager","temp":"","event-type":"1","_id":"CdzGK","actions":[{"behavior":"0","interpretation":"0","code":"const fs = require('fs');\nvar invites = {};\n\nclient.guilds.forEach(g => {\n    g.fetchInvites().then(guildInvites => {\n      try{\n        invites[g.id] = guildInvites;\n      }\n      catch(error) {\n        console.log(error);\n      }\n    });\n  });\n\nthis.storeValue(invites, 3, \"globalGuildDatabase\", cache);","storage":"0","varName":"","name":"Run Script"}]},{"name":"serverJoin|InviteManager","temp":"","event-type":"4","_id":"zUtVB","actions":[{"server":"0","varName":"","info":"0","storage":"1","varName2":"serverObject","name":"Store Server Info"},{"behavior":"0","interpretation":"0","code":"_this = this;\nvar guildServer = tempVars(\"serverObject\");\nvar globalGuildDatabase = globalVars(\"globalGuildDatabase\");\nserverID = tempVars(\"serverID\");\n\nasync function getInvites() {\n   var guildInvites = guildServer.fetchInvites()\n   globalGuildDatabase[guildServer.id] = guildInvites;\n   this.storeValue(invites, 3, \"globalGuildDatabase\", cache);\n}","storage":"0","varName":"","name":"Run Script"}]},{"name":"memberJoin|InviteManager","temp":"memberJoined","event-type":"6","_id":"bbJRl","actions":[{"behavior":"1","interpretation":"0","code":"let memberThatJoined = tempVars(\"memberJoined\");\nlet memberUsername = memberThatJoined.username;\nlet invites = globalVars(\"globalGuildDatabase\");\nconst _this = this;\n\nasync function getInvites() {\n    const ei = invites[memberThatJoined.guild.id];\n    let guildInvites = await memberThatJoined.guild.fetchInvites();\n    guildInvites = guildInvites.array();\n    invites[memberThatJoined.guild.id] = guildInvites;\n    _this.storeValue(invites, 3, \"globalGuildDatabase\", cache);\n    const invite = guildInvites.find(i => ei.get(i.code).uses < i.uses);\n    const inviter = client.users.get(invite.inviter.id);\n    _this.storeValue(invite.code, 1, \"inviteCode\", cache);\n    _this.callNextAction(cache);\n}\n\ngetInvites();","storage":"0","varName":"","name":"Run Script"},{"server":"0","varName":"","info":"1","storage":"1","varName2":"serverID","name":"Store Server Info"},{"member":"2","varName":"memberJoined","dataName":"${tempVars(\"serverID\")}.inviteManager","changeType":"0","value":"tempVars(\"inviteCode\")","name":"Control Member Data"}]}]